module.exports=[67453,a=>{"use strict";let b=(0,a.i(70106).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],67453)},92e3,a=>{"use strict";let b=(0,a.i(70106).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],92e3)},3130,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(97895);let f=(0,c.forwardRef)(({className:a,children:c,...f},g)=>(0,b.jsx)(d.motion.div,{ref:g,className:(0,e.cn)("rounded-2xl border border-border bg-bg-secondary p-6",a),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},...f,children:c}));f.displayName="Card";let g=({children:a,className:c})=>(0,b.jsx)("div",{className:(0,e.cn)("mb-6",c),children:a}),h=({children:a,className:c})=>(0,b.jsx)("h2",{className:(0,e.cn)("text-2xl font-semibold text-text-primary",c),children:a}),i=({children:a,className:c})=>(0,b.jsx)("p",{className:(0,e.cn)("mt-2 text-text-secondary",c),children:a}),j=({children:a,className:c})=>(0,b.jsx)("div",{className:(0,e.cn)("space-y-4",c),children:a}),k=({children:a,className:c})=>(0,b.jsx)("div",{className:(0,e.cn)("mt-6 flex items-center justify-between",c),children:a});a.s(["Card",()=>f,"CardContent",()=>j,"CardDescription",()=>i,"CardFooter",()=>k,"CardHeader",()=>g,"CardTitle",()=>h])},40695,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(97895);let f=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),g=(0,c.forwardRef)(({className:a,variant:c="primary",size:g="md",isLoading:h,children:i,disabled:j,...k},l)=>(0,b.jsxs)(d.motion.button,{ref:l,className:(0,e.cn)("relative inline-flex items-center justify-center font-medium rounded-xl transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:ring-offset-2 focus-visible:ring-offset-bg-primary disabled:pointer-events-none disabled:opacity-50",{primary:"bg-accent-primary text-white hover:bg-accent-hover",secondary:"bg-bg-elevated text-text-primary border border-border hover:bg-bg-secondary hover:border-text-muted",ghost:"text-text-secondary hover:text-text-primary hover:bg-bg-elevated"}[c],{sm:"h-9 px-4 text-sm",md:"h-11 px-6 text-base",lg:"h-14 px-8 text-lg"}[g],a),disabled:j||h,whileHover:{scale:j||h?1:1.02},whileTap:{scale:j||h?1:.98},transition:{type:"spring",stiffness:400,damping:17},...k,children:[h&&(0,b.jsx)(f,{className:"mr-2 h-4 w-4 animate-spin"}),i]}));g.displayName="Button",a.s(["Button",()=>g],40695)},53250,a=>{"use strict";let b=new class{baseUrl;constructor(a){this.baseUrl=a}async request(a,b={}){let{token:c,...d}=b,e={"Content-Type":"application/json"};c&&(e.Authorization=`Bearer ${c}`);let f=await fetch(`${this.baseUrl}${a}`,{...d,headers:e});if(!f.ok)throw Error((await f.json().catch(()=>({detail:"An error occurred"}))).detail||"An error occurred");return f.json()}async register(a,b){return this.request("/auth/register",{method:"POST",body:JSON.stringify({email:a,password:b})})}async login(a,b){return this.request("/auth/login",{method:"POST",body:JSON.stringify({email:a,password:b})})}async getCurrentUser(a){return this.request("/auth/me",{token:a})}async getProgress(a){return this.request("/progress",{token:a})}async updateProgress(a,b){return this.request("/progress",{method:"PUT",token:a,body:JSON.stringify(b)})}async completeOnboarding(a){return this.request("/progress/complete",{method:"POST",token:a})}async getConfig(){return this.request("/admin/config")}async updateConfig(a){return this.request("/admin/config",{method:"PUT",body:JSON.stringify(a)})}async getAllUsers(){return this.request("/users")}}("http://localhost:8000/api/v1");a.s(["api",0,b])},41675,a=>{"use strict";let b=(0,a.i(70106).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],41675)},21056,a=>{"use strict";var b=a.i(72131),c=a.i(53250);let d={page2:["aboutMe","address"],page3:["birthdate"]};function e(){let[a,e]=(0,b.useState)(d),[f,g]=(0,b.useState)(!0),[h,i]=(0,b.useState)(null);return(0,b.useEffect)(()=>{!async function(){try{let a=await c.api.getConfig();e({page2:a.page2,page3:a.page3})}catch(a){console.warn("Failed to fetch admin config, using defaults:",a),e(d)}finally{g(!1)}}()},[]),{config:a,isLoading:f,error:h,updateConfig:async a=>{i(null);try{return await c.api.updateConfig(a),e(a),!0}catch(a){return i(a instanceof Error?a.message:"Failed to update config"),!1}}}}a.s(["useAdminConfig",()=>e])},21361,72624,92292,a=>{"use strict";var b=a.i(87924),c=a.i(46271),d=a.i(72131),e=a.i(62036),f=a.i(97895),g=a.i(92e3);let h=(0,d.forwardRef)(({className:a,label:h,error:i,maxLength:j,showCount:k=!0,value:l,...m},n)=>{let[o,p]=(0,d.useState)(!1),q="string"==typeof l?l.length:0;return(0,b.jsxs)(c.motion.div,{className:"space-y-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},children:[h&&(0,b.jsx)("label",{className:"block text-sm font-medium text-text-secondary",children:h}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(c.motion.div,{className:"absolute inset-0 rounded-xl pointer-events-none",animate:{boxShadow:o?"0 0 0 2px rgba(139, 92, 246, 0.3), 0 0 20px rgba(139, 92, 246, 0.1)":"none"},transition:{duration:.2}}),(0,b.jsx)("textarea",{ref:n,value:l,maxLength:j,className:(0,f.cn)("w-full px-4 py-3 rounded-xl min-h-[120px] resize-none","bg-bg-elevated border border-border","text-text-primary placeholder:text-text-muted","transition-all duration-200","focus:outline-none focus:border-accent-primary",i&&"border-error/50 focus:border-error",a),onFocus:()=>p(!0),onBlur:()=>p(!1),...m}),k&&j&&(0,b.jsxs)("div",{className:"absolute bottom-3 right-3 text-xs text-text-muted",children:[(0,b.jsx)("span",{className:(0,f.cn)(q>.9*j&&"text-error"),children:q}),"/",j]})]}),(0,b.jsx)(e.AnimatePresence,{mode:"wait",children:i&&(0,b.jsxs)(c.motion.div,{initial:{opacity:0,y:-5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-5,height:0},transition:{duration:.2},className:"flex items-center gap-2 text-sm text-error",children:[(0,b.jsx)(g.AlertCircle,{className:"h-4 w-4"}),i]})})]})});function i({register:a,errors:d,value:e}){return(0,b.jsx)(c.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:(0,b.jsx)(h,{label:"Tell us about yourself",placeholder:"Share a bit about your background, role, and what you're hoping to achieve with SupportIQ...",error:d.aboutMe?.message,maxLength:500,showCount:!0,value:e,...a("aboutMe")})})}h.displayName="Textarea",a.s(["AboutMeField",()=>i],21361);var j=a.i(5522);function k({register:a,errors:d}){let e={hidden:{opacity:0,y:15},visible:{opacity:1,y:0}};return(0,b.jsxs)(c.motion.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08}}},initial:"hidden",animate:"visible",className:"space-y-4",children:[(0,b.jsx)(c.motion.div,{variants:e,children:(0,b.jsx)(j.Input,{label:"Street address",placeholder:"123 Main Street",error:d.street?.message,...a("street")})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(c.motion.div,{variants:e,children:(0,b.jsx)(j.Input,{label:"City",placeholder:"San Francisco",error:d.city?.message,...a("city")})}),(0,b.jsx)(c.motion.div,{variants:e,children:(0,b.jsx)(j.Input,{label:"State",placeholder:"CA",error:d.state?.message,...a("state")})})]}),(0,b.jsx)(c.motion.div,{variants:e,children:(0,b.jsx)(j.Input,{label:"ZIP code",placeholder:"94102",error:d.zipCode?.message,...a("zipCode")})})]})}a.s(["AddressFields",()=>k],72624);var l=a.i(41675);let m=(0,d.forwardRef)(({label:a,error:h,value:i,onChange:j,className:k},m)=>{let[n,o]=(0,d.useState)(!1),p=new Date,q=new Date(p.getFullYear()-13,p.getMonth(),p.getDate()).toISOString().split("T")[0],r=new Date(p.getFullYear()-120,0,1).toISOString().split("T")[0];return(0,b.jsxs)(c.motion.div,{className:"space-y-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},children:[a&&(0,b.jsx)("label",{className:"block text-sm font-medium text-text-secondary",children:a}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(c.motion.div,{className:"absolute inset-0 rounded-xl pointer-events-none",animate:{boxShadow:n?"0 0 0 2px rgba(139, 92, 246, 0.3), 0 0 20px rgba(139, 92, 246, 0.1)":"none"},transition:{duration:.2}}),(0,b.jsx)("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-text-muted pointer-events-none",children:(0,b.jsx)(l.Calendar,{className:"h-5 w-5"})}),(0,b.jsx)("input",{ref:m,type:"date",value:i||"",onChange:a=>j?.(a.target.value),min:r,max:q,className:(0,f.cn)("w-full pl-12 pr-4 py-3 rounded-xl","bg-bg-elevated border border-border","text-text-primary","transition-all duration-200","focus:outline-none focus:border-accent-primary",h&&"border-error/50 focus:border-error","[&::-webkit-calendar-picker-indicator]:opacity-0","[&::-webkit-calendar-picker-indicator]:absolute","[&::-webkit-calendar-picker-indicator]:inset-0","[&::-webkit-calendar-picker-indicator]:w-full","[&::-webkit-calendar-picker-indicator]:h-full","[&::-webkit-calendar-picker-indicator]:cursor-pointer",k),onFocus:()=>o(!0),onBlur:()=>o(!1)})]}),(0,b.jsx)(e.AnimatePresence,{mode:"wait",children:h&&(0,b.jsxs)(c.motion.div,{initial:{opacity:0,y:-5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-5,height:0},transition:{duration:.2},className:"flex items-center gap-2 text-sm text-error",children:[(0,b.jsx)(g.AlertCircle,{className:"h-4 w-4"}),h]})})]})});function n({value:a,onChange:d,error:e}){return(0,b.jsxs)(c.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[(0,b.jsx)(m,{label:"Date of birth",value:a,onChange:d,error:e}),(0,b.jsx)("p",{className:"mt-2 text-sm text-text-muted",children:"You must be at least 13 years old to use SupportIQ"})]})}m.displayName="DatePicker",a.s(["BirthdateField",()=>n],92292)},2101,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(95245),f=a.i(59501),g=a.i(88780),h=a.i(46271),i=a.i(3130),j=a.i(40695),k=a.i(21361),l=a.i(72624),m=a.i(92292),n=a.i(84921),o=a.i(21056),p=a.i(15790),q=a.i(53250);function r(){let a,r=(0,d.useRouter)(),{token:s,currentStep:t,setStep:u,updateFormData:v,formData:w}=(0,n.useOnboardingStore)(),{config:x,isLoading:y}=(0,o.useAdminConfig)(),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)(null),D=x.page2,E=(a={},D.forEach(b=>{"aboutMe"===b?a.aboutMe=p.aboutMeSchema.shape.aboutMe:"address"===b?Object.assign(a,p.addressSchema.shape):"birthdate"===b&&(a.birthdate=p.birthdateSchema.shape.birthdate)}),g.z.object(a)),{register:F,handleSubmit:G,formState:{errors:H,isValid:I},watch:J,setValue:K}=(0,e.useForm)({resolver:(0,f.zodResolver)(E),mode:"onChange",defaultValues:{aboutMe:w.aboutMe||"",street:w.address?.street||"",city:w.address?.city||"",state:w.address?.state||"",zipCode:w.address?.zipCode||"",birthdate:w.birthdate||""}});(0,c.useEffect)(()=>{s||r.push("/")},[s,r]);let L=async a=>{if(s){A(!0),C(null);try{let b={};"aboutMe"in a&&(b.aboutMe=a.aboutMe),"street"in a&&(b.address={street:a.street,city:a.city,state:a.state,zipCode:a.zipCode}),"birthdate"in a&&(b.birthdate=a.birthdate),v(b),await q.api.updateProgress(s,{step:3,about_me:"aboutMe"in a?a.aboutMe:void 0,street_address:"street"in a?a.street:void 0,city:"city"in a?a.city:void 0,state:"state"in a?a.state:void 0,zip_code:"zipCode"in a?a.zipCode:void 0,birthdate:"birthdate"in a?a.birthdate:void 0}),u(3),r.push("/step-3")}catch(a){C(a instanceof Error?a.message:"Failed to save progress")}finally{A(!1)}}};if(y)return(0,b.jsx)(i.Card,{children:(0,b.jsx)(i.CardContent,{className:"py-12",children:(0,b.jsx)("div",{className:"flex items-center justify-center",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-primary"})})})});let M=J("aboutMe"),N=J("birthdate");return(0,b.jsxs)(i.Card,{children:[(0,b.jsxs)(i.CardHeader,{children:[(0,b.jsx)(i.CardTitle,{children:"Tell us about yourself"}),(0,b.jsx)(i.CardDescription,{children:"Help us personalize your SupportIQ experience"})]}),(0,b.jsxs)("form",{onSubmit:G(L),children:[(0,b.jsx)(i.CardContent,{children:(0,b.jsxs)(h.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"space-y-6",children:[D.map(a=>"aboutMe"===a?(0,b.jsx)(k.AboutMeField,{register:F,errors:H,value:M},"aboutMe"):"address"===a?(0,b.jsx)(l.AddressFields,{register:F,errors:H},"address"):"birthdate"===a?(0,b.jsx)(m.BirthdateField,{value:N,onChange:a=>K("birthdate",a,{shouldValidate:!0}),error:H.birthdate?.message},"birthdate"):null),B&&(0,b.jsx)(h.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 rounded-lg bg-error/10 border border-error/20 text-error text-sm",children:B})]})}),(0,b.jsxs)(i.CardFooter,{children:[(0,b.jsx)(j.Button,{type:"button",variant:"ghost",onClick:()=>{r.push("/")},children:"Back"}),(0,b.jsx)(j.Button,{type:"submit",isLoading:z,disabled:!I,children:z?"Saving...":"Continue"})]})]})]})}a.s(["default",()=>r])}];

//# sourceMappingURL=_6c4bbc2e._.js.map