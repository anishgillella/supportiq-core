module.exports=[67453,a=>{"use strict";let b=(0,a.i(70106).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],67453)},92e3,a=>{"use strict";let b=(0,a.i(70106).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],92e3)},3130,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(97895);let f=(0,c.forwardRef)(({className:a,children:c,...f},g)=>(0,b.jsx)(d.motion.div,{ref:g,className:(0,e.cn)("rounded-2xl border border-border bg-bg-secondary p-6",a),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},...f,children:c}));f.displayName="Card";let g=({children:a,className:c})=>(0,b.jsx)("div",{className:(0,e.cn)("mb-6",c),children:a}),h=({children:a,className:c})=>(0,b.jsx)("h2",{className:(0,e.cn)("text-2xl font-semibold text-text-primary",c),children:a}),i=({children:a,className:c})=>(0,b.jsx)("p",{className:(0,e.cn)("mt-2 text-text-secondary",c),children:a}),j=({children:a,className:c})=>(0,b.jsx)("div",{className:(0,e.cn)("space-y-4",c),children:a}),k=({children:a,className:c})=>(0,b.jsx)("div",{className:(0,e.cn)("mt-6 flex items-center justify-between",c),children:a});a.s(["Card",()=>f,"CardContent",()=>j,"CardDescription",()=>i,"CardFooter",()=>k,"CardHeader",()=>g,"CardTitle",()=>h])},40695,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(97895);let f=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),g=(0,c.forwardRef)(({className:a,variant:c="primary",size:g="md",isLoading:h,children:i,disabled:j,...k},l)=>(0,b.jsxs)(d.motion.button,{ref:l,className:(0,e.cn)("relative inline-flex items-center justify-center font-medium rounded-xl transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:ring-offset-2 focus-visible:ring-offset-bg-primary disabled:pointer-events-none disabled:opacity-50",{primary:"bg-accent-primary text-white hover:bg-accent-hover",secondary:"bg-bg-elevated text-text-primary border border-border hover:bg-bg-secondary hover:border-text-muted",ghost:"text-text-secondary hover:text-text-primary hover:bg-bg-elevated"}[c],{sm:"h-9 px-4 text-sm",md:"h-11 px-6 text-base",lg:"h-14 px-8 text-lg"}[g],a),disabled:j||h,whileHover:{scale:j||h?1:1.02},whileTap:{scale:j||h?1:.98},transition:{type:"spring",stiffness:400,damping:17},...k,children:[h&&(0,b.jsx)(f,{className:"mr-2 h-4 w-4 animate-spin"}),i]}));g.displayName="Button",a.s(["Button",()=>g],40695)},53250,a=>{"use strict";let b=new class{baseUrl;constructor(a){this.baseUrl=a}async request(a,b={}){let{token:c,...d}=b,e={"Content-Type":"application/json"};c&&(e.Authorization=`Bearer ${c}`);let f=await fetch(`${this.baseUrl}${a}`,{...d,headers:e});if(!f.ok)throw Error((await f.json().catch(()=>({detail:"An error occurred"}))).detail||"An error occurred");return f.json()}async register(a,b){return this.request("/auth/register",{method:"POST",body:JSON.stringify({email:a,password:b})})}async login(a,b){return this.request("/auth/login",{method:"POST",body:JSON.stringify({email:a,password:b})})}async getCurrentUser(a){return this.request("/auth/me",{token:a})}async getProgress(a){return this.request("/progress",{token:a})}async updateProgress(a,b){return this.request("/progress",{method:"PUT",token:a,body:JSON.stringify(b)})}async completeOnboarding(a){return this.request("/progress/complete",{method:"POST",token:a})}async getConfig(){return this.request("/admin/config")}async updateConfig(a){return this.request("/admin/config",{method:"PUT",body:JSON.stringify(a)})}async getAllUsers(){return this.request("/users")}}("http://localhost:8000/api/v1");a.s(["api",0,b])},69102,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(95245),f=a.i(59501),g=a.i(46271),h=a.i(3130),i=a.i(5522),j=a.i(40695),k=a.i(15790),l=a.i(84921),m=a.i(53250);function n(){let a=(0,d.useRouter)(),{setAuth:n,setStep:o,updateFormData:p,token:q,currentStep:r}=(0,l.useOnboardingStore)(),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(null),{register:w,handleSubmit:x,formState:{errors:y,isValid:z,dirtyFields:A},watch:B}=(0,e.useForm)({resolver:(0,f.zodResolver)(k.registrationSchema),mode:"onChange"}),C=B("password");(0,c.useEffect)(()=>{q&&r>1&&a.push(`/step-${r}`)},[q,r,a]);let D=async b=>{t(!0),v(null);try{let c=await m.api.register(b.email,b.password);n(c.user_id,c.access_token),p({email:b.email}),o(2),a.push("/step-2")}catch(c){if(c instanceof Error&&c.message.includes("already exists"))try{let c=await m.api.login(b.email,b.password);n(c.user_id,c.access_token),p({email:b.email});let d=await m.api.getProgress(c.access_token);d.onboarding_completed?a.push("/complete"):(o(d.current_step),a.push(1===d.current_step?"/step-2":`/step-${d.current_step}`))}catch(a){v(a instanceof Error?a.message:"Login failed")}else v(c instanceof Error?c.message:"Registration failed")}finally{t(!1)}},E={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{children:[(0,b.jsx)(h.CardTitle,{children:"Create your account"}),(0,b.jsx)(h.CardDescription,{children:"Join SupportIQ and transform your customer service experience"})]}),(0,b.jsxs)("form",{onSubmit:x(D),children:[(0,b.jsx)(h.CardContent,{children:(0,b.jsxs)(g.motion.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",className:"space-y-4",children:[(0,b.jsx)(g.motion.div,{variants:E,children:(0,b.jsx)(i.Input,{label:"Email address",type:"email",placeholder:"you@company.com",error:y.email?.message,success:A.email&&!y.email,...w("email")})}),(0,b.jsx)(g.motion.div,{variants:E,children:(0,b.jsx)(i.Input,{label:"Password",type:"password",placeholder:"Create a strong password",error:y.password?.message,success:A.password&&!y.password,hint:"At least 8 characters with uppercase, lowercase, and number",...w("password")})}),(0,b.jsx)(g.motion.div,{variants:E,children:(0,b.jsx)(i.Input,{label:"Confirm password",type:"password",placeholder:"Confirm your password",error:y.confirmPassword?.message,success:A.confirmPassword&&!y.confirmPassword&&C===B("confirmPassword"),...w("confirmPassword")})}),u&&(0,b.jsx)(g.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 rounded-lg bg-error/10 border border-error/20 text-error text-sm",children:u})]})}),(0,b.jsxs)(h.CardFooter,{className:"flex-col gap-4",children:[(0,b.jsx)(j.Button,{type:"submit",size:"lg",className:"w-full",isLoading:s,disabled:!z,children:s?"Creating account...":"Continue"}),(0,b.jsxs)("p",{className:"text-sm text-text-muted text-center",children:["By continuing, you agree to our"," ",(0,b.jsx)("a",{href:"#",className:"text-accent-primary hover:underline",children:"Terms of Service"})," ","and"," ",(0,b.jsx)("a",{href:"#",className:"text-accent-primary hover:underline",children:"Privacy Policy"})]})]})]})]})}a.s(["default",()=>n])}];

//# sourceMappingURL=_5afc2778._.js.map