module.exports=[21056,a=>{"use strict";var b=a.i(72131),c=a.i(53250);let d={page2:["aboutMe","address"],page3:["birthdate"]};function e(){let[a,e]=(0,b.useState)(d),[f,g]=(0,b.useState)(!0),[h,i]=(0,b.useState)(null);return(0,b.useEffect)(()=>{!async function(){try{let a=await c.api.getConfig();e({page2:a.page2,page3:a.page3})}catch(a){console.warn("Failed to fetch admin config, using defaults:",a),e(d)}finally{g(!1)}}()},[]),{config:a,isLoading:f,error:h,updateConfig:async a=>{i(null);try{return await c.api.updateConfig(a),e(a),!0}catch(a){return i(a instanceof Error?a.message:"Failed to update config"),!1}}}}a.s(["useAdminConfig",()=>e])},41675,a=>{"use strict";let b=(0,a.i(70106).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],41675)},3130,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(97895);let f=(0,c.forwardRef)(({className:a,children:c,...f},g)=>(0,b.jsx)(d.motion.div,{ref:g,className:(0,e.cn)("rounded-2xl border border-border bg-bg-secondary p-6",a),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},...f,children:c}));f.displayName="Card";let g=({children:a,className:c})=>(0,b.jsx)("div",{className:(0,e.cn)("mb-6",c),children:a}),h=({children:a,className:c})=>(0,b.jsx)("h2",{className:(0,e.cn)("text-2xl font-semibold text-text-primary",c),children:a}),i=({children:a,className:c})=>(0,b.jsx)("p",{className:(0,e.cn)("mt-2 text-text-secondary",c),children:a}),j=({children:a,className:c})=>(0,b.jsx)("div",{className:(0,e.cn)("space-y-4",c),children:a}),k=({children:a,className:c})=>(0,b.jsx)("div",{className:(0,e.cn)("mt-6 flex items-center justify-between",c),children:a});a.s(["Card",()=>f,"CardContent",()=>j,"CardDescription",()=>i,"CardFooter",()=>k,"CardHeader",()=>g,"CardTitle",()=>h])},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},40695,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(97895);let f=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),g=(0,c.forwardRef)(({className:a,variant:c="primary",size:g="md",isLoading:h,children:i,disabled:j,...k},l)=>(0,b.jsxs)(d.motion.button,{ref:l,className:(0,e.cn)("relative inline-flex items-center justify-center font-medium rounded-xl transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:ring-offset-2 focus-visible:ring-offset-bg-primary disabled:pointer-events-none disabled:opacity-50",{primary:"bg-accent-primary text-white hover:bg-accent-hover",secondary:"bg-bg-elevated text-text-primary border border-border hover:bg-bg-secondary hover:border-text-muted",ghost:"text-text-secondary hover:text-text-primary hover:bg-bg-elevated"}[c],{sm:"h-9 px-4 text-sm",md:"h-11 px-6 text-base",lg:"h-14 px-8 text-lg"}[g],a),disabled:j||h,whileHover:{scale:j||h?1:1.02},whileTap:{scale:j||h?1:.98},transition:{type:"spring",stiffness:400,damping:17},...k,children:[h&&(0,b.jsx)(f,{className:"mr-2 h-4 w-4 animate-spin"}),i]}));g.displayName="Button",a.s(["Button",()=>g],40695)},53250,a=>{"use strict";let b=new class{baseUrl;constructor(a){this.baseUrl=a}async request(a,b={}){let{token:c,...d}=b,e={"Content-Type":"application/json"};c&&(e.Authorization=`Bearer ${c}`);let f=await fetch(`${this.baseUrl}${a}`,{...d,headers:e});if(!f.ok)throw Error((await f.json().catch(()=>({detail:"An error occurred"}))).detail||"An error occurred");return f.json()}async register(a,b){return this.request("/auth/register",{method:"POST",body:JSON.stringify({email:a,password:b})})}async login(a,b){return this.request("/auth/login",{method:"POST",body:JSON.stringify({email:a,password:b})})}async getCurrentUser(a){return this.request("/auth/me",{token:a})}async getProgress(a){return this.request("/progress",{token:a})}async updateProgress(a,b){return this.request("/progress",{method:"PUT",token:a,body:JSON.stringify(b)})}async completeOnboarding(a){return this.request("/progress/complete",{method:"POST",token:a})}async getConfig(){return this.request("/admin/config")}async updateConfig(a){return this.request("/admin/config",{method:"PUT",body:JSON.stringify(a)})}async getAllUsers(){return this.request("/users")}}("http://localhost:8000/api/v1");a.s(["api",0,b])},62036,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(86723),e=a.i(74290),f=a.i(14800),g=c,h=a.i(65802);class i extends g.Component{getSnapshotBeforeUpdate(a){let b=this.props.childRef.current;if(b&&a.isPresent&&!this.props.isPresent){let a=this.props.sizeRef.current;a.height=b.offsetHeight||0,a.width=b.offsetWidth||0,a.top=b.offsetTop,a.left=b.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function j({children:a,isPresent:c}){let d=(0,g.useId)(),e=(0,g.useRef)(null),f=(0,g.useRef)({width:0,height:0,top:0,left:0}),{nonce:j}=(0,g.useContext)(h.MotionConfigContext);return(0,g.useInsertionEffect)(()=>{let{width:a,height:b,top:g,left:h}=f.current;if(c||!e.current||!a||!b)return;e.current.dataset.motionPopId=d;let i=document.createElement("style");return j&&(i.nonce=j),document.head.appendChild(i),i.sheet&&i.sheet.insertRule(`
          [data-motion-pop-id="${d}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${b}px !important;
            top: ${g}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(i)}},[c]),(0,b.jsx)(i,{isPresent:c,childRef:e,sizeRef:f,children:g.cloneElement(a,{ref:e})})}let k=({children:a,initial:d,isPresent:g,onExitComplete:h,custom:i,presenceAffectsLayout:k,mode:m})=>{let n=(0,e.useConstant)(l),o=(0,c.useId)(),p=(0,c.useCallback)(a=>{for(let b of(n.set(a,!0),n.values()))if(!b)return;h&&h()},[n,h]),q=(0,c.useMemo)(()=>({id:o,initial:d,isPresent:g,custom:i,onExitComplete:p,register:a=>(n.set(a,!1),()=>n.delete(a))}),k?[Math.random(),p]:[g,p]);return(0,c.useMemo)(()=>{n.forEach((a,b)=>n.set(b,!1))},[g]),c.useEffect(()=>{g||n.size||!h||h()},[g]),"popLayout"===m&&(a=(0,b.jsx)(j,{isPresent:g,children:a})),(0,b.jsx)(f.PresenceContext.Provider,{value:q,children:a})};function l(){return new Map}var m=a.i(20410);let n=a=>a.key||"";function o(a){let b=[];return c.Children.forEach(a,a=>{(0,c.isValidElement)(a)&&b.push(a)}),b}var p=a.i(1703);let q=({children:a,custom:f,initial:g=!0,onExitComplete:h,presenceAffectsLayout:i=!0,mode:j="sync",propagate:l=!1})=>{let[q,r]=(0,m.usePresence)(l),s=(0,c.useMemo)(()=>o(a),[a]),t=l&&!q?[]:s.map(n),u=(0,c.useRef)(!0),v=(0,c.useRef)(s),w=(0,e.useConstant)(()=>new Map),[x,y]=(0,c.useState)(s),[z,A]=(0,c.useState)(s);(0,p.useIsomorphicLayoutEffect)(()=>{u.current=!1,v.current=s;for(let a=0;a<z.length;a++){let b=n(z[a]);t.includes(b)?w.delete(b):!0!==w.get(b)&&w.set(b,!1)}},[z,t.length,t.join("-")]);let B=[];if(s!==x){let a=[...s];for(let b=0;b<z.length;b++){let c=z[b],d=n(c);t.includes(d)||(a.splice(b,0,c),B.push(c))}"wait"===j&&B.length&&(a=B),A(o(a)),y(s);return}let{forceRender:C}=(0,c.useContext)(d.LayoutGroupContext);return(0,b.jsx)(b.Fragment,{children:z.map(a=>{let c=n(a),d=(!l||!!q)&&(s===z||t.includes(c));return(0,b.jsx)(k,{isPresent:d,initial:(!u.current||!!g)&&void 0,custom:d?void 0:f,presenceAffectsLayout:i,mode:j,onExitComplete:d?void 0:()=>{if(!w.has(c))return;w.set(c,!0);let a=!0;w.forEach(b=>{b||(a=!1)}),a&&(null==C||C(),A(v.current),l&&(null==r||r()),h&&h())},children:a},c)})})};a.s(["AnimatePresence",()=>q],62036)},92e3,a=>{"use strict";let b=(0,a.i(70106).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],92e3)},46842,a=>{"use strict";let b=(0,a.i(70106).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],46842)},33441,a=>{"use strict";let b=(0,a.i(70106).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>b],33441)},24987,a=>{"use strict";let b=(0,a.i(70106).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],24987)},88367,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(62036);let f=(0,a.i(70106).default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var g=a.i(46842),h=a.i(24987),i=a.i(41675),j=a.i(33441),k=a.i(92e3),l=a.i(3130),m=a.i(40695),n=a.i(97895),o=a.i(21056);let p=[{id:"aboutMe",label:"About Me",description:"Large text area for user bio",icon:(0,b.jsx)(g.User,{className:"w-5 h-5"})},{id:"address",label:"Address",description:"Street, city, state, and ZIP",icon:(0,b.jsx)(h.MapPin,{className:"w-5 h-5"})},{id:"birthdate",label:"Birthdate",description:"Date picker with age validation",icon:(0,b.jsx)(i.Calendar,{className:"w-5 h-5"})}];function q(){let{config:a,isLoading:g,error:h,updateConfig:i}=(0,o.useAdminConfig)(),[q,r]=(0,c.useState)([]),[s,t]=(0,c.useState)([]),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)(null);(0,c.useEffect)(()=>{g||(r(a.page2),t(a.page3))},[a,g]);let A=a=>q.includes(a)||s.includes(a),B=(a,b)=>{let c=2===a?q:s,d=2===a?r:t,e=2===a?s:q;c.includes(b)?c.length>1&&d(c.filter(a=>a!==b)):c.length<2&&(e.includes(b)&&(2===a?t:r)(e.filter(a=>a!==b)),d([...c,b])),x(!1)},C=async()=>{if(0===q.length||0===s.length)return void z("Each page must have at least one component");v(!0),z(null),x(!1);let a=await i({page2:q,page3:s});v(!1),a?(x(!0),setTimeout(()=>x(!1),3e3)):z("Failed to save configuration")};return g?(0,b.jsx)("div",{className:"min-h-screen bg-bg-primary flex items-center justify-center",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-primary"})}):(0,b.jsx)("div",{className:"min-h-screen bg-bg-primary py-12 px-4",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-xl bg-accent-primary flex items-center justify-center",children:(0,b.jsx)(f,{className:"w-5 h-5 text-white"})}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-text-primary",children:"Admin Panel"})]}),(0,b.jsx)("p",{className:"text-text-secondary",children:"Configure which components appear on each onboarding page"})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-text-primary mb-4",children:"Available Components"}),(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:p.map(a=>(0,b.jsx)("div",{className:(0,n.cn)("p-4 rounded-xl border bg-bg-secondary transition-colors",A(a.id)?"border-accent-primary/50":"border-border"),children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:(0,n.cn)("w-10 h-10 rounded-lg flex items-center justify-center",A(a.id)?"bg-accent-primary/20 text-accent-primary":"bg-bg-elevated text-text-muted"),children:a.icon}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-medium text-text-primary",children:a.label}),(0,b.jsx)("p",{className:"text-xs text-text-muted",children:a.description})]})]})},a.id))})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,b.jsx)(d.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:(0,b.jsxs)(l.Card,{children:[(0,b.jsxs)(l.CardHeader,{children:[(0,b.jsx)(l.CardTitle,{className:"text-lg",children:"Page 2 Components"}),(0,b.jsx)(l.CardDescription,{children:"Select 1-2 components for the second page"})]}),(0,b.jsx)(l.CardContent,{children:(0,b.jsx)("div",{className:"space-y-3",children:p.map(a=>{let c=q.includes(a.id),d=s.includes(a.id);return(0,b.jsxs)("button",{onClick:()=>B(2,a.id),disabled:!c&&q.length>=2||!c&&d&&s.length<=1,className:(0,n.cn)("w-full p-3 rounded-xl border flex items-center gap-3 transition-all","disabled:opacity-50 disabled:cursor-not-allowed",c?"border-accent-primary bg-accent-primary/10":"border-border hover:border-text-muted bg-bg-elevated"),children:[(0,b.jsx)("div",{className:(0,n.cn)("w-8 h-8 rounded-lg flex items-center justify-center",c?"bg-accent-primary text-white":"bg-bg-secondary text-text-muted"),children:a.icon}),(0,b.jsx)("span",{className:(0,n.cn)("font-medium",c?"text-accent-primary":"text-text-secondary"),children:a.label}),c&&(0,b.jsx)(j.Check,{className:"w-4 h-4 ml-auto text-accent-primary"})]},a.id)})})})]})}),(0,b.jsx)(d.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:(0,b.jsxs)(l.Card,{children:[(0,b.jsxs)(l.CardHeader,{children:[(0,b.jsx)(l.CardTitle,{className:"text-lg",children:"Page 3 Components"}),(0,b.jsx)(l.CardDescription,{children:"Select 1-2 components for the third page"})]}),(0,b.jsx)(l.CardContent,{children:(0,b.jsx)("div",{className:"space-y-3",children:p.map(a=>{let c=s.includes(a.id),d=q.includes(a.id);return(0,b.jsxs)("button",{onClick:()=>B(3,a.id),disabled:!c&&s.length>=2||!c&&d&&q.length<=1,className:(0,n.cn)("w-full p-3 rounded-xl border flex items-center gap-3 transition-all","disabled:opacity-50 disabled:cursor-not-allowed",c?"border-accent-primary bg-accent-primary/10":"border-border hover:border-text-muted bg-bg-elevated"),children:[(0,b.jsx)("div",{className:(0,n.cn)("w-8 h-8 rounded-lg flex items-center justify-center",c?"bg-accent-primary text-white":"bg-bg-secondary text-text-muted"),children:a.icon}),(0,b.jsx)("span",{className:(0,n.cn)("font-medium",c?"text-accent-primary":"text-text-secondary"),children:a.label}),c&&(0,b.jsx)(j.Check,{className:"w-4 h-4 ml-auto text-accent-primary"})]},a.id)})})})]})})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex flex-col sm:flex-row items-center justify-between gap-4 p-4 rounded-xl bg-bg-secondary border border-border",children:[(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsxs)(e.AnimatePresence,{mode:"wait",children:[w&&(0,b.jsxs)(d.motion.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center gap-2 text-success",children:[(0,b.jsx)(j.Check,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-sm",children:"Configuration saved!"})]}),y&&(0,b.jsxs)(d.motion.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center gap-2 text-error",children:[(0,b.jsx)(k.AlertCircle,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-sm",children:y})]}),!w&&!y&&(0,b.jsx)(d.motion.span,{initial:{opacity:0},animate:{opacity:1},className:"text-sm text-text-muted",children:"Changes will apply to new users immediately"})]})}),(0,b.jsx)(m.Button,{onClick:C,isLoading:u,children:u?"Saving...":"Save Configuration"})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-8 flex justify-center gap-4 text-sm",children:[(0,b.jsx)("a",{href:"/",className:"text-accent-primary hover:underline",children:"View Onboarding →"}),(0,b.jsx)("a",{href:"/data",className:"text-accent-primary hover:underline",children:"View Data Table →"})]})]})})}a.s(["default",()=>q],88367)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__bc304655._.js.map