(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95468,e=>{"use strict";let r=(0,e.i(75254).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>r],95468)},63209,e=>{"use strict";let r=(0,e.i(75254).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>r],63209)},70065,e=>{"use strict";var r=e.i(43476),s=e.i(71645),t=e.i(46932),i=e.i(47163);let a=(0,s.forwardRef)(({className:e,children:s,...a},n)=>(0,r.jsx)(t.motion.div,{ref:n,className:(0,i.cn)("rounded-2xl border border-border bg-bg-secondary p-6",e),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},...a,children:s}));a.displayName="Card";let n=({children:e,className:s})=>(0,r.jsx)("div",{className:(0,i.cn)("mb-6",s),children:e}),o=({children:e,className:s})=>(0,r.jsx)("h2",{className:(0,i.cn)("text-2xl font-semibold text-text-primary",s),children:e}),c=({children:e,className:s})=>(0,r.jsx)("p",{className:(0,i.cn)("mt-2 text-text-secondary",s),children:e}),l=({children:e,className:s})=>(0,r.jsx)("div",{className:(0,i.cn)("space-y-4",s),children:e}),d=({children:e,className:s})=>(0,r.jsx)("div",{className:(0,i.cn)("mt-6 flex items-center justify-between",s),children:e});e.s(["Card",()=>a,"CardContent",()=>l,"CardDescription",()=>c,"CardFooter",()=>d,"CardHeader",()=>n,"CardTitle",()=>o])},67881,e=>{"use strict";var r=e.i(43476),s=e.i(71645),t=e.i(46932),i=e.i(47163);let a=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),n=(0,s.forwardRef)(({className:e,variant:s="primary",size:n="md",isLoading:o,children:c,disabled:l,...d},m)=>(0,r.jsxs)(t.motion.button,{ref:m,className:(0,i.cn)("relative inline-flex items-center justify-center font-medium rounded-xl transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:ring-offset-2 focus-visible:ring-offset-bg-primary disabled:pointer-events-none disabled:opacity-50",{primary:"bg-accent-primary text-white hover:bg-accent-hover",secondary:"bg-bg-elevated text-text-primary border border-border hover:bg-bg-secondary hover:border-text-muted",ghost:"text-text-secondary hover:text-text-primary hover:bg-bg-elevated"}[s],{sm:"h-9 px-4 text-sm",md:"h-11 px-6 text-base",lg:"h-14 px-8 text-lg"}[n],e),disabled:l||o,whileHover:{scale:l||o?1:1.02},whileTap:{scale:l||o?1:.98},transition:{type:"spring",stiffness:400,damping:17},...d,children:[o&&(0,r.jsx)(a,{className:"mr-2 h-4 w-4 animate-spin"}),c]}));n.displayName="Button",e.s(["Button",()=>n],67881)},54858,e=>{"use strict";let r=new class{baseUrl;constructor(e){this.baseUrl=e}async request(e,r={}){let{token:s,...t}=r,i={"Content-Type":"application/json"};s&&(i.Authorization=`Bearer ${s}`);let a=await fetch(`${this.baseUrl}${e}`,{...t,headers:i});if(!a.ok)throw Error((await a.json().catch(()=>({detail:"An error occurred"}))).detail||"An error occurred");return a.json()}async register(e,r){return this.request("/auth/register",{method:"POST",body:JSON.stringify({email:e,password:r})})}async login(e,r){return this.request("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:r})})}async getCurrentUser(e){return this.request("/auth/me",{token:e})}async getProgress(e){return this.request("/progress",{token:e})}async updateProgress(e,r){return this.request("/progress",{method:"PUT",token:e,body:JSON.stringify(r)})}async completeOnboarding(e){return this.request("/progress/complete",{method:"POST",token:e})}async getConfig(){return this.request("/admin/config")}async updateConfig(e){return this.request("/admin/config",{method:"PUT",body:JSON.stringify(e)})}async getAllUsers(){return this.request("/users")}}("http://localhost:8000/api/v1");e.s(["api",0,r])},57011,e=>{"use strict";var r=e.i(43476),s=e.i(71645),t=e.i(18566),i=e.i(53145),a=e.i(94814),n=e.i(46932),o=e.i(70065),c=e.i(23750),l=e.i(67881),d=e.i(77847),m=e.i(36993),u=e.i(54858);function p(){let e=(0,t.useRouter)(),{setAuth:p,setStep:h,updateFormData:y,token:g,currentStep:x}=(0,m.useOnboardingStore)(),[f,b]=(0,s.useState)(!1),[v,C]=(0,s.useState)(null),{register:w,handleSubmit:j,formState:{errors:N,isValid:P,dirtyFields:S},watch:T}=(0,i.useForm)({resolver:(0,a.zodResolver)(d.registrationSchema),mode:"onChange"}),k=T("password");(0,s.useEffect)(()=>{g&&x>1&&e.push(`/step-${x}`)},[g,x,e]);let O=async r=>{b(!0),C(null);try{let s=await u.api.register(r.email,r.password);p(s.user_id,s.access_token),y({email:r.email}),h(2),e.push("/step-2")}catch(s){if(s instanceof Error&&s.message.includes("already exists"))try{let s=await u.api.login(r.email,r.password);p(s.user_id,s.access_token),y({email:r.email});let t=await u.api.getProgress(s.access_token);t.onboarding_completed?e.push("/complete"):(h(t.current_step),e.push(1===t.current_step?"/step-2":`/step-${t.current_step}`))}catch(e){C(e instanceof Error?e.message:"Login failed")}else C(s instanceof Error?s.message:"Registration failed")}finally{b(!1)}},q={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return(0,r.jsxs)(o.Card,{children:[(0,r.jsxs)(o.CardHeader,{children:[(0,r.jsx)(o.CardTitle,{children:"Create your account"}),(0,r.jsx)(o.CardDescription,{children:"Join SupportIQ and transform your customer service experience"})]}),(0,r.jsxs)("form",{onSubmit:j(O),children:[(0,r.jsx)(o.CardContent,{children:(0,r.jsxs)(n.motion.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",className:"space-y-4",children:[(0,r.jsx)(n.motion.div,{variants:q,children:(0,r.jsx)(c.Input,{label:"Email address",type:"email",placeholder:"you@company.com",error:N.email?.message,success:S.email&&!N.email,...w("email")})}),(0,r.jsx)(n.motion.div,{variants:q,children:(0,r.jsx)(c.Input,{label:"Password",type:"password",placeholder:"Create a strong password",error:N.password?.message,success:S.password&&!N.password,hint:"At least 8 characters with uppercase, lowercase, and number",...w("password")})}),(0,r.jsx)(n.motion.div,{variants:q,children:(0,r.jsx)(c.Input,{label:"Confirm password",type:"password",placeholder:"Confirm your password",error:N.confirmPassword?.message,success:S.confirmPassword&&!N.confirmPassword&&k===T("confirmPassword"),...w("confirmPassword")})}),v&&(0,r.jsx)(n.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 rounded-lg bg-error/10 border border-error/20 text-error text-sm",children:v})]})}),(0,r.jsxs)(o.CardFooter,{className:"flex-col gap-4",children:[(0,r.jsx)(l.Button,{type:"submit",size:"lg",className:"w-full",isLoading:f,disabled:!P,children:f?"Creating account...":"Continue"}),(0,r.jsxs)("p",{className:"text-sm text-text-muted text-center",children:["By continuing, you agree to our"," ",(0,r.jsx)("a",{href:"#",className:"text-accent-primary hover:underline",children:"Terms of Service"})," ","and"," ",(0,r.jsx)("a",{href:"#",className:"text-accent-primary hover:underline",children:"Privacy Policy"})]})]})]})]})}e.s(["default",()=>p])}]);