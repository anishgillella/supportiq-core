(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18636,e=>{"use strict";var t=e.i(71645),i=e.i(54858);let a={page2:["aboutMe","address"],page3:["birthdate"]};function r(){let[e,r]=(0,t.useState)(a),[s,n]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null);return(0,t.useEffect)(()=>{!async function(){try{let e=await i.api.getConfig();r({page2:e.page2,page3:e.page3})}catch(e){console.warn("Failed to fetch admin config, using defaults:",e),r(a)}finally{n(!1)}}()},[]),{config:e,isLoading:s,error:l,updateConfig:async e=>{c(null);try{return await i.api.updateConfig(e),r(e),!0}catch(e){return c(e instanceof Error?e.message:"Failed to update config"),!1}}}}e.s(["useAdminConfig",()=>r])},87316,e=>{"use strict";let t=(0,e.i(75254).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},70065,e=>{"use strict";var t=e.i(43476),i=e.i(71645),a=e.i(46932),r=e.i(47163);let s=(0,i.forwardRef)(({className:e,children:i,...s},n)=>(0,t.jsx)(a.motion.div,{ref:n,className:(0,r.cn)("rounded-2xl border border-border bg-bg-secondary p-6",e),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},...s,children:i}));s.displayName="Card";let n=({children:e,className:i})=>(0,t.jsx)("div",{className:(0,r.cn)("mb-6",i),children:e}),l=({children:e,className:i})=>(0,t.jsx)("h2",{className:(0,r.cn)("text-2xl font-semibold text-text-primary",i),children:e}),c=({children:e,className:i})=>(0,t.jsx)("p",{className:(0,r.cn)("mt-2 text-text-secondary",i),children:e}),o=({children:e,className:i})=>(0,t.jsx)("div",{className:(0,r.cn)("space-y-4",i),children:e}),d=({children:e,className:i})=>(0,t.jsx)("div",{className:(0,r.cn)("mt-6 flex items-center justify-between",i),children:e});e.s(["Card",()=>s,"CardContent",()=>o,"CardDescription",()=>c,"CardFooter",()=>d,"CardHeader",()=>n,"CardTitle",()=>l])},67881,e=>{"use strict";var t=e.i(43476),i=e.i(71645),a=e.i(46932),r=e.i(47163);let s=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),n=(0,i.forwardRef)(({className:e,variant:i="primary",size:n="md",isLoading:l,children:c,disabled:o,...d},m)=>(0,t.jsxs)(a.motion.button,{ref:m,className:(0,r.cn)("relative inline-flex items-center justify-center font-medium rounded-xl transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:ring-offset-2 focus-visible:ring-offset-bg-primary disabled:pointer-events-none disabled:opacity-50",{primary:"bg-accent-primary text-white hover:bg-accent-hover",secondary:"bg-bg-elevated text-text-primary border border-border hover:bg-bg-secondary hover:border-text-muted",ghost:"text-text-secondary hover:text-text-primary hover:bg-bg-elevated"}[i],{sm:"h-9 px-4 text-sm",md:"h-11 px-6 text-base",lg:"h-14 px-8 text-lg"}[n],e),disabled:o||l,whileHover:{scale:o||l?1:1.02},whileTap:{scale:o||l?1:.98},transition:{type:"spring",stiffness:400,damping:17},...d,children:[l&&(0,t.jsx)(s,{className:"mr-2 h-4 w-4 animate-spin"}),c]}));n.displayName="Button",e.s(["Button",()=>n],67881)},54858,e=>{"use strict";let t=new class{baseUrl;constructor(e){this.baseUrl=e}async request(e,t={}){let{token:i,...a}=t,r={"Content-Type":"application/json"};i&&(r.Authorization=`Bearer ${i}`);let s=await fetch(`${this.baseUrl}${e}`,{...a,headers:r});if(!s.ok)throw Error((await s.json().catch(()=>({detail:"An error occurred"}))).detail||"An error occurred");return s.json()}async register(e,t){return this.request("/auth/register",{method:"POST",body:JSON.stringify({email:e,password:t})})}async login(e,t){return this.request("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})})}async getCurrentUser(e){return this.request("/auth/me",{token:e})}async getProgress(e){return this.request("/progress",{token:e})}async updateProgress(e,t){return this.request("/progress",{method:"PUT",token:e,body:JSON.stringify(t)})}async completeOnboarding(e){return this.request("/progress/complete",{method:"POST",token:e})}async getConfig(){return this.request("/admin/config")}async updateConfig(e){return this.request("/admin/config",{method:"PUT",body:JSON.stringify(e)})}async getAllUsers(){return this.request("/users")}}("http://localhost:8000/api/v1");e.s(["api",0,t])},88653,e=>{"use strict";e.i(47167);var t=e.i(43476),i=e.i(71645),a=e.i(31178),r=e.i(47414),s=e.i(21476),n=i,l=e.i(37806);class c extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function o({children:e,isPresent:i}){let a=(0,n.useId)(),r=(0,n.useRef)(null),s=(0,n.useRef)({width:0,height:0,top:0,left:0}),{nonce:o}=(0,n.useContext)(l.MotionConfigContext);return(0,n.useInsertionEffect)(()=>{let{width:e,height:t,top:n,left:l}=s.current;if(i||!r.current||!e||!t)return;r.current.dataset.motionPopId=a;let c=document.createElement("style");return o&&(c.nonce=o),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            top: ${n}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[i]),(0,t.jsx)(c,{isPresent:i,childRef:r,sizeRef:s,children:n.cloneElement(e,{ref:r})})}let d=({children:e,initial:a,isPresent:n,onExitComplete:l,custom:c,presenceAffectsLayout:d,mode:u})=>{let h=(0,r.useConstant)(m),p=(0,i.useId)(),x=(0,i.useCallback)(e=>{for(let t of(h.set(e,!0),h.values()))if(!t)return;l&&l()},[h,l]),y=(0,i.useMemo)(()=>({id:p,initial:a,isPresent:n,custom:c,onExitComplete:x,register:e=>(h.set(e,!1),()=>h.delete(e))}),d?[Math.random(),x]:[n,x]);return(0,i.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[n]),i.useEffect(()=>{n||h.size||!l||l()},[n]),"popLayout"===u&&(e=(0,t.jsx)(o,{isPresent:n,children:e})),(0,t.jsx)(s.PresenceContext.Provider,{value:y,children:e})};function m(){return new Map}var u=e.i(64978);let h=e=>e.key||"";function p(e){let t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}var x=e.i(74008);let y=({children:e,custom:s,initial:n=!0,onExitComplete:l,presenceAffectsLayout:c=!0,mode:o="sync",propagate:m=!1})=>{let[y,g]=(0,u.usePresence)(m),f=(0,i.useMemo)(()=>p(e),[e]),b=m&&!y?[]:f.map(h),v=(0,i.useRef)(!0),j=(0,i.useRef)(f),C=(0,r.useConstant)(()=>new Map),[N,w]=(0,i.useState)(f),[k,P]=(0,i.useState)(f);(0,x.useIsomorphicLayoutEffect)(()=>{v.current=!1,j.current=f;for(let e=0;e<k.length;e++){let t=h(k[e]);b.includes(t)?C.delete(t):!0!==C.get(t)&&C.set(t,!1)}},[k,b.length,b.join("-")]);let S=[];if(f!==N){let e=[...f];for(let t=0;t<k.length;t++){let i=k[t],a=h(i);b.includes(a)||(e.splice(t,0,i),S.push(i))}"wait"===o&&S.length&&(e=S),P(p(e)),w(f);return}let{forceRender:M}=(0,i.useContext)(a.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:k.map(e=>{let i=h(e),a=(!m||!!y)&&(f===k||b.includes(i));return(0,t.jsx)(d,{isPresent:a,initial:(!v.current||!!n)&&void 0,custom:a?void 0:s,presenceAffectsLayout:c,mode:o,onExitComplete:a?void 0:()=>{if(!C.has(i))return;C.set(i,!0);let e=!0;C.forEach(t=>{t||(e=!1)}),e&&(null==M||M(),P(j.current),m&&(null==g||g()),l&&l())},children:e},i)})})};e.s(["AnimatePresence",()=>y],88653)},63209,e=>{"use strict";let t=(0,e.i(75254).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},84614,e=>{"use strict";let t=(0,e.i(75254).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],84614)},43531,e=>{"use strict";let t=(0,e.i(75254).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],43531)},46897,e=>{"use strict";let t=(0,e.i(75254).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],46897)},23261,e=>{"use strict";var t=e.i(43476),i=e.i(71645),a=e.i(46932),r=e.i(88653);let s=(0,e.i(75254).default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var n=e.i(84614),l=e.i(46897),c=e.i(87316),o=e.i(43531),d=e.i(63209),m=e.i(70065),u=e.i(67881),h=e.i(47163),p=e.i(18636);let x=[{id:"aboutMe",label:"About Me",description:"Large text area for user bio",icon:(0,t.jsx)(n.User,{className:"w-5 h-5"})},{id:"address",label:"Address",description:"Street, city, state, and ZIP",icon:(0,t.jsx)(l.MapPin,{className:"w-5 h-5"})},{id:"birthdate",label:"Birthdate",description:"Date picker with age validation",icon:(0,t.jsx)(c.Calendar,{className:"w-5 h-5"})}];function y(){let{config:e,isLoading:n,error:l,updateConfig:c}=(0,p.useAdminConfig)(),[y,g]=(0,i.useState)([]),[f,b]=(0,i.useState)([]),[v,j]=(0,i.useState)(!1),[C,N]=(0,i.useState)(!1),[w,k]=(0,i.useState)(null);(0,i.useEffect)(()=>{n||(g(e.page2),b(e.page3))},[e,n]);let P=e=>y.includes(e)||f.includes(e),S=(e,t)=>{let i=2===e?y:f,a=2===e?g:b,r=2===e?f:y;i.includes(t)?i.length>1&&a(i.filter(e=>e!==t)):i.length<2&&(r.includes(t)&&(2===e?b:g)(r.filter(e=>e!==t)),a([...i,t])),N(!1)},M=async()=>{if(0===y.length||0===f.length)return void k("Each page must have at least one component");j(!0),k(null),N(!1);let e=await c({page2:y,page3:f});j(!1),e?(N(!0),setTimeout(()=>N(!1),3e3)):k("Failed to save configuration")};return n?(0,t.jsx)("div",{className:"min-h-screen bg-bg-primary flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-primary"})}):(0,t.jsx)("div",{className:"min-h-screen bg-bg-primary py-12 px-4",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-accent-primary flex items-center justify-center",children:(0,t.jsx)(s,{className:"w-5 h-5 text-white"})}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-text-primary",children:"Admin Panel"})]}),(0,t.jsx)("p",{className:"text-text-secondary",children:"Configure which components appear on each onboarding page"})]}),(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-text-primary mb-4",children:"Available Components"}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:x.map(e=>(0,t.jsx)("div",{className:(0,h.cn)("p-4 rounded-xl border bg-bg-secondary transition-colors",P(e.id)?"border-accent-primary/50":"border-border"),children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:(0,h.cn)("w-10 h-10 rounded-lg flex items-center justify-center",P(e.id)?"bg-accent-primary/20 text-accent-primary":"bg-bg-elevated text-text-muted"),children:e.icon}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-text-primary",children:e.label}),(0,t.jsx)("p",{className:"text-xs text-text-muted",children:e.description})]})]})},e.id))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,t.jsx)(a.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:(0,t.jsxs)(m.Card,{children:[(0,t.jsxs)(m.CardHeader,{children:[(0,t.jsx)(m.CardTitle,{className:"text-lg",children:"Page 2 Components"}),(0,t.jsx)(m.CardDescription,{children:"Select 1-2 components for the second page"})]}),(0,t.jsx)(m.CardContent,{children:(0,t.jsx)("div",{className:"space-y-3",children:x.map(e=>{let i=y.includes(e.id),a=f.includes(e.id);return(0,t.jsxs)("button",{onClick:()=>S(2,e.id),disabled:!i&&y.length>=2||!i&&a&&f.length<=1,className:(0,h.cn)("w-full p-3 rounded-xl border flex items-center gap-3 transition-all","disabled:opacity-50 disabled:cursor-not-allowed",i?"border-accent-primary bg-accent-primary/10":"border-border hover:border-text-muted bg-bg-elevated"),children:[(0,t.jsx)("div",{className:(0,h.cn)("w-8 h-8 rounded-lg flex items-center justify-center",i?"bg-accent-primary text-white":"bg-bg-secondary text-text-muted"),children:e.icon}),(0,t.jsx)("span",{className:(0,h.cn)("font-medium",i?"text-accent-primary":"text-text-secondary"),children:e.label}),i&&(0,t.jsx)(o.Check,{className:"w-4 h-4 ml-auto text-accent-primary"})]},e.id)})})})]})}),(0,t.jsx)(a.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:(0,t.jsxs)(m.Card,{children:[(0,t.jsxs)(m.CardHeader,{children:[(0,t.jsx)(m.CardTitle,{className:"text-lg",children:"Page 3 Components"}),(0,t.jsx)(m.CardDescription,{children:"Select 1-2 components for the third page"})]}),(0,t.jsx)(m.CardContent,{children:(0,t.jsx)("div",{className:"space-y-3",children:x.map(e=>{let i=f.includes(e.id),a=y.includes(e.id);return(0,t.jsxs)("button",{onClick:()=>S(3,e.id),disabled:!i&&f.length>=2||!i&&a&&y.length<=1,className:(0,h.cn)("w-full p-3 rounded-xl border flex items-center gap-3 transition-all","disabled:opacity-50 disabled:cursor-not-allowed",i?"border-accent-primary bg-accent-primary/10":"border-border hover:border-text-muted bg-bg-elevated"),children:[(0,t.jsx)("div",{className:(0,h.cn)("w-8 h-8 rounded-lg flex items-center justify-center",i?"bg-accent-primary text-white":"bg-bg-secondary text-text-muted"),children:e.icon}),(0,t.jsx)("span",{className:(0,h.cn)("font-medium",i?"text-accent-primary":"text-text-secondary"),children:e.label}),i&&(0,t.jsx)(o.Check,{className:"w-4 h-4 ml-auto text-accent-primary"})]},e.id)})})})]})})]}),(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex flex-col sm:flex-row items-center justify-between gap-4 p-4 rounded-xl bg-bg-secondary border border-border",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)(r.AnimatePresence,{mode:"wait",children:[C&&(0,t.jsxs)(a.motion.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center gap-2 text-success",children:[(0,t.jsx)(o.Check,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm",children:"Configuration saved!"})]}),w&&(0,t.jsxs)(a.motion.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center gap-2 text-error",children:[(0,t.jsx)(d.AlertCircle,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm",children:w})]}),!C&&!w&&(0,t.jsx)(a.motion.span,{initial:{opacity:0},animate:{opacity:1},className:"text-sm text-text-muted",children:"Changes will apply to new users immediately"})]})}),(0,t.jsx)(u.Button,{onClick:M,isLoading:v,children:v?"Saving...":"Save Configuration"})]}),(0,t.jsxs)(a.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-8 flex justify-center gap-4 text-sm",children:[(0,t.jsx)("a",{href:"/",className:"text-accent-primary hover:underline",children:"View Onboarding →"}),(0,t.jsx)("a",{href:"/data",className:"text-accent-primary hover:underline",children:"View Data Table →"})]})]})})}e.s(["default",()=>y],23261)}]);